{"version":3,"file":"vue.js","sources":["../../src/utils/utils.js","../../src/observer/index.js","../../src/state.js","../../src/init.js","../../src/index.js"],"sourcesContent":["export function isObject (obj) {\r\n  return typeof obj === 'object' && obj != null\r\n}\r\n","import { isObject } from \"../utils/utils\";\r\n\r\nexport function defineReactive (data, key, value) {\r\n  Object.defineProperty(data, key, {\r\n    get () {\r\n      return value\r\n    },\r\n    set (newValue) {\r\n      if (value === newValue) return false\r\n      value = newValue\r\n    }\r\n  })\r\n}\r\n\r\nclass Observer {\r\n  constructor (value) {\r\n    this.walk(value)\r\n  }\r\n\r\n  walk (data) {\r\n    Object.keys(data).forEach(key => {\r\n      defineReactive(data, key, data[key])\r\n    })\r\n  }\r\n}\r\n\r\nexport function observe (data) {\r\n  // 判断是否对象类型\r\n  if (!isObject(data)) return false\r\n  // Observer类 方便扩展\r\n  const ob = new Observer(data)\r\n}\r\n","import { observe } from \"./observer/index\";\r\n\r\nfunction proxy (vm, souce, key) {\r\n  Object.defineProperty(vm, key, {\r\n    get () {\r\n      return vm[souce][key]\r\n    },\r\n    set (newValue) {\r\n      vm[souce][key] = newValue\r\n    }\r\n  })\r\n}\r\n\r\nfunction initData (vm) {\r\n  let data = vm.$opitions.data\r\n  // 通过vm._data获取劫持后的数据\r\n  data = vm._data = typeof data === 'function' ? data.call(vm) : data\r\n  // 将_data中的值放在实例上（vm）\r\n  for (const key in data) {\r\n    proxy(vm, '_data', key)\r\n  }\r\n\r\n  observe(data)\r\n}\r\n\r\nexport function initState (vm) {\r\n  const opts = vm.$opitions\r\n  // 初始化的数据\r\n  if (opts.data) {\r\n    initData(vm)\r\n  }\r\n}\r\n","import { initState } from \"./state\";\r\n\r\nexport function initMixin (Vue) {\r\n  Vue.prototype._init = function (options) {\r\n    const vm = this\r\n    vm.$opitions = options\r\n    initState(vm)\r\n  }\r\n}\r\n\r\n","import { initMixin } from \"./init\";\r\n\r\nfunction Vue (options) {\r\n  this._init(options)\r\n}\r\n\r\ninitMixin(Vue)\r\n\r\nexport default Vue\r\n"],"names":["isObject","obj","defineReactive","data","key","value","Object","defineProperty","get","set","newValue","Observer","walk","keys","forEach","observe","ob","proxy","vm","souce","initData","$opitions","_data","call","initState","opts","initMixin","Vue","prototype","_init","options"],"mappings":"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"}